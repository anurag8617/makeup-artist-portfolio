/* * This container creates the 3-column grid.
 * We set a max-width for desktop viewing, but it's
 * designed to be 100% width on mobile.
 */
.reels-grid-container {
  display: grid;

  /* Create 3 equal-width columns */
  grid-template-columns: repeat(3, 1fr);

  /* This is the key: auto-rows are set to the width of a column.
     On a full-width mobile screen, 1fr is 33.33vw.
     We set the row height to match, creating perfect squares.
     'calc(33.33vw - 2px)' accounts for the 3px gap.
     We use minmax to set a minimum and maximum size.
  */
  grid-auto-rows: minmax(100px, calc(33.33vw - 2px));

  /* This packs items into the first available space, 
     which is essential for the masonry layout. */
  grid-auto-flow: dense;

  /* The gap between items */
  gap: 3px;

  width: 100%;
  max-width: 900px; /* Good for desktop preview */
  margin: 0 auto;
  background-color: #000;
}

/* * This is the individual item in the grid.
 */
.grid-item {
  position: relative;
  overflow: hidden;
  background-color: #222; /* Placeholder background */

  /* By default, all items span 1 row and 1 column */
  grid-row: span 1;
  grid-column: span 1;
}

/* * This class makes an item rectangular (1x2).
 * It tells the item to span 2 rows instead of 1.
 */
.grid-item--rectangle {
  grid-row: span 2;
}

/* * This styles the actual media (image/video)
 * to fill its container perfectly.
 */
.grid-item video,
.grid-item img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* This is crucial: clips, doesn't stretch */
}

/* * Styles the little video icon
 */
.media-icon {
  position: absolute;
  top: 8px;
  right: 8px;
  color: white;
  font-size: 14px;
  font-weight: bold;
  text-shadow: 0 0 4px rgba(0, 0, 0, 0.6);
  pointer-events: none; /* So it doesn't block clicks */
}
